<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""
"http://www.w3.org/TR/html4/loose.dtd">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="css/global.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="css/veyron-tree.css" type="text/css" media="screen" charset="utf-8">
    <script src="js/tangram-1.3.1.source.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/ecui-1.2.0-all.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/veyron.tree.js" type="text/javascript" charset="utf-8"></script>
    <title>Tree</title>
    <style type="text/css" media="screen">
        p {margin:.5em 0;color:#999}
        .info {margin:.5em 0;padding.5em;background-color:#DCEDFD;border:1px solid #4D6185;color:#4D6185}
    </style>
</head>
<body>

    <!--test-->
<div id="tree2" ecui="type:check-tree;id:test;name:part;" class="veyron-check-tree">
	<label>
		<span class="tree-icon-a">
			周监控
		</span>
	</label>
	<div ecui="value:1" data-disableCheck="true" data-id="0" data-async="true">
        <span class="tree-icon-a">
            我的全部客户
        </span>
	</div>
	<div ecui="fold:true;" data-id="292" data-async="true">
		<span class="tree-icon-a">
			test共享账户文件夹
		</span>
	</div>
	<div ecui="fold:true;" data-id="331" data-async="true">
		<span class="tree-icon-a">
			share账户文件夹
		</span>
	</div>
	<div ecui="fold:true;" data-id="381" data-async="true">
		<span class="tree-icon-a">
			fdas
		</span>
	</div>
</div>
        

<script type="text/javascript" charset="utf-8">
    /**
     * IE 6 背景图片缓存
     */
    try {
        document.execCommand("BackgroundImageCache", false, true);
    } catch (e) {}


    var _get = ecui.get;
    ecui.get = function (id) {
        return _get(id) || {};
    }

    var b = new Date().getTime();
    ecui.get();
    alert(new Date().getTime() - b);
    
    // testtree 异步载入子节点
    ecui.get('test').loadChildren = function () {
        var node = this;
        if (node.getOuter().getAttribute('data-id') == 0) {
            // "我的全部客户" 点击, 载入页面事先写好的html
            setTimeout(function () {
                node.insertChildTree(baidu.g('testData').innerHTML);
            }, 100);
        }
        else {
            // 此处处理其他节点的异步
            alert('非"我的全部客户"点击');
        }
    };

</script>

<!-- 我的全部客户子节点html, 写到script标签里不会被初始化-->
<script id="testData" type="text/data">

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div ecui="value:test" data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

<div data-id="null" data-async="true">
    <span class="tree-icon-b">
        hd-阿里巴巴
    </span>
</div>

</script>
</body>
